<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../css/style.css">
  <title>소재가공</title>
</head>
<body>
  <div class="header-wrapper">
    <div class="header-main-menubar">
      <div class="header-logo">
          <img>
      </div>
      <ul class="main-menu"></ul>
      <div class="header-button">
          <button class="menu-button">로그아웃</button>
          <button class="menu-button">정보수정</button>
      </div>
    </div>
    <div class="forlder-menu-wrapper">
      <div class="header-sub-menubar"></div>
    </div>
  </div> 
  <div class="location">
    <div>홈</div>
    <div>소재</div>
    <div>OTV 소재가공</div>
    <div>소재가공(+소재 다운로드)</div>
  </div>
  <div class="main processing-main">
      <div class="common-box common-body">
          <div class="sub-menu-wrapper">
            <div class="sub-menu-title">
              <img src="../../assets/c_ic_lnb_04.svg" alt="ic-04">소재
            </div>
            <ul class="sub-menu">
          </ul>
        </div>
        <div class="contents-wrapper">
          <div class="content-title">소재가공 (+소재 다운로드)</div>
          <div class="search-wrapper">
            <div class="search-top">
              <div class="content-sub-title">조회조건설정</div>              
            </div>                        
            <div class="search-table-box">
              <div class="row">
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">Asset Name</div>                    
                    <input type="text" value="" />                    
                  </div>                  
                </div>
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">AssetID</div>                    
                      <input type="text" value="" />                    
                  </div> 
                </div>
              </div>
              <div class="row">
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">기간</div>                    
                    <div class="input-date-group">
                      <input type="date" value="2021-02-10">
                      <span>~</span>
                      <input type="date" value="2021-02-10">
                    </div>
                  </div>                  
                </div>
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">영업사</div>                        
                    <div class="input-group">
                      <select>
                        <option value="">전체</option>
                        <option value="">영업사1</option>
                        <option value="">영업사2</option>                                           
                        <option value="">영업사3</option>                                                
                      </select>
                    </div>    
                  </div> 
                </div>
              </div>
              <div class="row">
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">상용/프로모션 구분</div>       
                    <div class="input-group">
                      <select>
                        <option value="">전체</option>
                        <option value="">상용</option>
                        <option value="">프로모션</option>                        
                      </select>
                    </div>             
                  </div>                  
                </div>
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">화질</div>  
                    <div class="input-group">
                      <select>
                        <option value="">전체</option>
                        <option value="">SD</option>
                        <option value="">HD</option>                        
                        <option value="">ASP</option>                        
                        <option value="">UHD</option>                        
                        <option value="">FHD</option>                        
                      </select>
                    </div>                               
                  </div> 
                </div>
              </div>
              <div class="row">
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">음질</div>  
                    <div class="input-group">
                      <select>
                        <option value="">전체</option>
                        <option value="">일반</option>
                        <option value="">5.1CH</option>                                           
                      </select>
                    </div>                     
                  </div>                  
                </div>
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">진행상태</div>   
                    <div class="input-group">
                      <select>
                        <option value="">전체</option>
                        <option value="">신규요청중</option>
                        <option value="">신규요청실패</option>     
                        <option value="">가공중</option>     
                        <option value="">수정요청중</option>     
                        <option value="">수정가공중</option>                                                                   
                        <option value="">삭제요청중</option>     
                        <option value="">재가공요청중</option>     
                        <option value="">재가공중</option>     
                        <option value="">가공완료</option>     
                        <option value="">배포완료</option>     
                        <option value="">재가공요청중</option>     
                        <option value="">재가공중</option>     
                      </select>
                    </div>                                          
                  </div> 
                </div>
              </div>
              <div class="row">
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">서비스</div>     
                    <div class="input-group">
                      <select>
                        <option value="">전체</option>
                        <option value="">VOD</option>
                        <option value="">LiveAD</option>                                           
                        <option value="">MovieIntro</option>                                           
                      </select>
                    </div>                                 
                  </div>                  
                </div>
                <div class="search-table-detail">
                  <div class="input-wrapper">
                    <div class="input-title">삭제예정</div> 
                    <div class="input-group">
                      <select>
                        <option value="">전체</option>
                        <option value="">삭제예정</option>                                            
                      </select>
                    </div>                    
                  </div>                  
                </div>                
              </div>
            </div>
            <div class="search-bottom"><button class="btn-common">조회</button></div>
          </div>
          <div class="table-wrapper">
            <div class="table-top">
              <div class="table-top-count">
                <div class="table-total-count">전체<span>1,256</span></div>
                <div class="table-view-count">
                  <div class="input-group">
                    <select>
                      <option value="">10개</option>
                      <option value="">20개</option>
                      <option value="">30개</option>                                           
                      <option value="">50개</option>                                           
                      <option value="">100개</option>                                                
                    </select>
                  </div>   
                </div>
              </div>
              <div class="table-top-buttons">                
                <button class="btn-common href-new">신규요청</button>
              </div>
            </div>
            <div class="jb-table-wrapper">
            <table class="jb-table">
              <colgroup>
                <col style="width: 9%" />
                <col style="width: 4%" />
                <col style="width: 6%" />
                <col style="width: 5%" />
                <col style="width: 4%" />
                <col style="width: 5%" />
                <col style="width: 6%" />
                <col style="width: 4%" />
                <col style="width: 8%" />
                <col style="width: 6%" />                
                <col style="width: 5%" />
                <col style="width: 5%" />
                <col style="width: 10%" />
                <col style="width: 9%" />
                <col style="width: 8%" />
                <col style="width: 6%" />
              </colgroup>
              <thead>
                <tr>
                  <th>Asset Name</th>
                  <th>서비스</th>
                  <th>AssetID</th>
                  <th>청약</th>
                  <th>광고초수(초)</th>
                  <th>음질</th>
                  <th>화질</th>
                  <th>배포구분</th>
                  <th>진행상태</th>
                  <th>광고구분</th>                  
                  <th>소재구분</th>
                  <th>삭제예정</th>
                  <th>날짜</th>
                  <th>가공실전송</th>
                  <th>소재파일</th>
                  <th>관리</th>
                </tr>
              </thead>
              <tbody class="table-body"></tbody>
            </table>
          </div>
            <ul class="pagination">
              <li>
                <a href="#" class="first"><img src="../../assets/ico-page-start-n.png" alt="" /></a>
              </li>
              <li>
                <a href="#" class="arrow left"><img src="../../assets/ico-page-prev-n.png" alt="" /></a>
              </li>
              <li><a href="#" class="num">1</a></li>
              <li><a href="#" class="num active">2</a></li>
              <li><a href="#" class="num">3</a></li>
              <li><a href="#" class="num">4</a></li>
              <li><a href="#" class="num">5</a></li>
              <li><a href="#" class="num">6</a></li>
              <li><a href="#" class="num">7</a></li>
              <li><a href="#" class="num">8</a></li>
              <li><a href="#" class="num">9</a></li>
              <li><a href="#" class="num">10</a></li>
              <li>
                <a href="#" class="arrow right"><img src="../../assets/ico-page-next-s.png" alt="" /></a>
              </li>
              <li>
                <a href="#" class="last"><img src="../../assets/ico-page-end-s.png" alt="" /></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-wrapper">
      <p>(주)케이티 · 사업자등록번호 : 102-81-42945 통신판매업신고 : 2002-경기성남-0048 · 463-711 경기도 성남시 분당구 불정로 90 (정자동 206번지)</p>
      <p>Copyright© 2022 KT Corp. All rights reserved.</p>
    </div>

    <div id="modal-background"></div>
    <div class="modal-con modal-processing common-box">      
      <div class="modal-top">
        <div class="box-title">업종변경</div>
        <div class="ic-modal-close close"></div>
      </div>
      <div class="modal-body">
        <div class="setting-table">
          <div class="row">
            <div class="setting-table-title">Asset Name</div>
            <div class="input-group">
              <select>
                <option value="">0121_경동나비엔_0121_경동나비엔...</option>
                <option value="">0329_LiveAD_test_15초</option>
                <option value="">PBTV_11월광고_KT_성인_15초</option>                                           
                <option value="">1102_상용_영화_퍼펙트 스틸_15세</option>                                                           
              </select>
            </div>   
          </div>
          <div class="row">
            <div class="setting-table-title">업종분류1</div>
            <div class="input-group">
              <select>
                <option value="">가정용품</option>
                <option value="">업종1</option>
                <option value="">업종2</option>                                           
                <option value="">업종3</option>                                                           
              </select>
            </div>  
          </div>
          <div class="row">
            <div class="setting-table-title">업종분류2</div>
            <div class="input-group">
              <select>
                <option value="">난방기기</option>
                <option value="">업종2-1</option>
                <option value="">업종2-2</option>                                           
                <option value="">업종2-3</option>                                                           
              </select>
            </div>  
          </div>
          <div class="row">
            <div class="setting-table-title">업종분류3</div>
            <div class="input-group">
              <select>
                <option value="">보일러</option>
                <option value="">업종3-1</option>
                <option value="">업종3-2</option>                                           
                <option value="">업종3-3</option>                                                           
              </select>
            </div>  
          </div>        
        </div>
      </div>
      <div class="modal-bottom">
        <button class="btn-common">저장</button>
        <button class="btn-white close">취소</button>
      </div>
    </div>

    <script src="../../scripts/jquery-3.6.0.min.js"></script>
    <script src="../../scripts/jquery-ui.min.js"></script>
    <script src="../../scripts/script.js"></script>
    <script>
      loadMainMenu(1);
      loadSubMenu("1", 1);
      loadLnb(1, 1, 1, 0);

      const arrTable = Array(8).fill(["0124 LiveA", "LiveAD", "M64LB00XSGL150000100", "청약", "30", "일반","HD","PrePlay","배포완료","상용","일반","","2022-03-23","전송완료","AD","X"]);
      arrTable.push(["0124 LiveA", "LiveAD", "M64LB00XSGL150000100", "청약", "30", "일반","HD","PrePlay","배포완료","상용","일반","","2022-03-23","전송완료","CD","R"]);
      arrTable.push(["0124 LiveA", "LiveAD", "M64LB00XSGL150000100", "청약", "30", "일반","HD","PrePlay","배포완료","상용","일반","","2022-03-23","전송완료","A","CD"]);
      
      const table = document.querySelector(".table-body");
      arrTable.map((data) => addTableRow(table, data, false));

      function addTableRow(table, tbData, isCheckbox) {    
        var tr = document.createElement("tr");

        if (isCheckbox) {
          var input = document.createElement("input");
          var ckTD=document.createElement("td");

          input.setAttribute("type","checkbox");
          input.setAttribute("class","table_body_check");
          ckTD.appendChild(input);
          tr.appendChild(ckTD);
        }
        
        tbData.map((cell,i) => {        
          var newTD = document.createElement("td"); 
          if (i == 0) {
            newTD.classList.add("href-detail");
            newTD.innerText = cell;
          }
          else if (i == 14) {
            var strCell = String(cell);
            for (var j=0; j < strCell.length;j++){
              var strName = strCell.substr(j,1);
              if (strName !="")
              {
                var btTD = document.createElement("button");
                btTD.setAttribute("class","btn-white");
                switch (strName) {
                  case 'A':
                  btTD.classList.add("btn-detail");
                    btTD.innerText = '추가';
                    break;
                  case 'C':
                  btTD.classList.add("btn-detail");
                    btTD.innerText = '수정';
                    break;
                  case 'D':
                    btTD.innerText = '다운';
                    break;
                  default:
                    break;
                }  
                
                newTD.appendChild(btTD);
              }
            }
          }
          else if (i == 15) {
            var strCell = String(cell);
            for (var j=0; j < strCell.length;j++){
              var strName = strCell.substr(j,1);
              if (strName == "X") {
                newTD.innerText = '불가';
              }
              else if (strName !="")
              {
                var btTD = document.createElement("button");
                btTD.setAttribute("class","btn-white");
                switch (strName) {
                  case 'R':
                  btTD.classList.add("btn-detail");
                    btTD.innerText = '재가공';
                    break;
                  case 'C':
                  btTD.classList.add("btn-detail");
                    btTD.innerText = '수정요청';
                    break;
                  case 'D':
                    btTD.innerText = '삭제요청';
                    break;
                  default:
                    break;
                }         
                if (strCell.length > 1) btTD.style = "height: 25px;"       
                newTD.appendChild(btTD);
              }
            }
          }
          else newTD.innerText = cell;
          
          tr.appendChild(newTD);    
        });  
        table.appendChild(tr); 
      }
      $(".href-new").on("click",function(){
        location.href = "processing_add.html";
      })
      $(".href-detail").on("click",function(){
        location.href = "processing_detail.html";
      })
      $("td .btn-download").on("click", function(){     
        $("#modal-background").fadeIn(300);
        $(".modal-con").css("display", "flex").hide().fadeIn();
        $(".modal-processing").addClass("two");
        $("body").css("overflow", "hidden");
      })
    </script>
  </body>
</html>